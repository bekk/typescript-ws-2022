{"ast":null,"code":"import { getAllAffectedNodes } from './utils/all-affected';\nimport { getTabbableNodes } from './utils/DOMutils';\nimport { isGuard, isNotAGuard } from './utils/is';\nimport { getTopCommonParent } from './utils/parenting';\nexport var getFocusabledIn = function (topNode) {\n  var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n  var commonParent = getTopCommonParent(topNode, topNode, entries);\n  var visibilityCache = new Map();\n  var outerNodes = getTabbableNodes([commonParent], visibilityCache, true);\n  var innerElements = getTabbableNodes(entries, visibilityCache).filter(function (_a) {\n    var node = _a.node;\n    return isNotAGuard(node);\n  }).map(function (_a) {\n    var node = _a.node;\n    return node;\n  });\n  return outerNodes.map(function (_a) {\n    var node = _a.node,\n        index = _a.index;\n    return {\n      node: node,\n      index: index,\n      lockItem: innerElements.indexOf(node) >= 0,\n      guard: isGuard(node)\n    };\n  });\n};","map":{"version":3,"names":["getAllAffectedNodes","getTabbableNodes","isGuard","isNotAGuard","getTopCommonParent","getFocusabledIn","topNode","entries","filter","commonParent","visibilityCache","Map","outerNodes","innerElements","_a","node","map","index","lockItem","indexOf","guard"],"sources":["/Users/ingeborg/projects/code/typescript-ws-2022/node_modules/focus-lock/dist/es2015/focusables.js"],"sourcesContent":["import { getAllAffectedNodes } from './utils/all-affected';\nimport { getTabbableNodes } from './utils/DOMutils';\nimport { isGuard, isNotAGuard } from './utils/is';\nimport { getTopCommonParent } from './utils/parenting';\nexport var getFocusabledIn = function (topNode) {\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var outerNodes = getTabbableNodes([commonParent], visibilityCache, true);\n    var innerElements = getTabbableNodes(entries, visibilityCache)\n        .filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    })\n        .map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    return outerNodes.map(function (_a) {\n        var node = _a.node, index = _a.index;\n        return ({\n            node: node,\n            index: index,\n            lockItem: innerElements.indexOf(node) >= 0,\n            guard: isGuard(node),\n        });\n    });\n};\n"],"mappings":"AAAA,SAASA,mBAAT,QAAoC,sBAApC;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,YAArC;AACA,SAASC,kBAAT,QAAmC,mBAAnC;AACA,OAAO,IAAIC,eAAe,GAAG,UAAUC,OAAV,EAAmB;EAC5C,IAAIC,OAAO,GAAGP,mBAAmB,CAACM,OAAD,CAAnB,CAA6BE,MAA7B,CAAoCL,WAApC,CAAd;EACA,IAAIM,YAAY,GAAGL,kBAAkB,CAACE,OAAD,EAAUA,OAAV,EAAmBC,OAAnB,CAArC;EACA,IAAIG,eAAe,GAAG,IAAIC,GAAJ,EAAtB;EACA,IAAIC,UAAU,GAAGX,gBAAgB,CAAC,CAACQ,YAAD,CAAD,EAAiBC,eAAjB,EAAkC,IAAlC,CAAjC;EACA,IAAIG,aAAa,GAAGZ,gBAAgB,CAACM,OAAD,EAAUG,eAAV,CAAhB,CACfF,MADe,CACR,UAAUM,EAAV,EAAc;IACtB,IAAIC,IAAI,GAAGD,EAAE,CAACC,IAAd;IACA,OAAOZ,WAAW,CAACY,IAAD,CAAlB;EACH,CAJmB,EAKfC,GALe,CAKX,UAAUF,EAAV,EAAc;IACnB,IAAIC,IAAI,GAAGD,EAAE,CAACC,IAAd;IACA,OAAOA,IAAP;EACH,CARmB,CAApB;EASA,OAAOH,UAAU,CAACI,GAAX,CAAe,UAAUF,EAAV,EAAc;IAChC,IAAIC,IAAI,GAAGD,EAAE,CAACC,IAAd;IAAA,IAAoBE,KAAK,GAAGH,EAAE,CAACG,KAA/B;IACA,OAAQ;MACJF,IAAI,EAAEA,IADF;MAEJE,KAAK,EAAEA,KAFH;MAGJC,QAAQ,EAAEL,aAAa,CAACM,OAAd,CAAsBJ,IAAtB,KAA+B,CAHrC;MAIJK,KAAK,EAAElB,OAAO,CAACa,IAAD;IAJV,CAAR;EAMH,CARM,CAAP;AASH,CAvBM"},"metadata":{},"sourceType":"module"}